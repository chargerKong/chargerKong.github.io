---
title: 修改机器人外观
date: 2021-04-20 10:23:20
tags: [gazebo, robot_simulation]
---

到目前位置，我们的机器人还没有颜色也没有一个漂亮的外观，下面介绍如何改变机器人的link颜色，以及如何使用dae文件改变机器人的外观

## 添加颜色

在xacro中，添加对应的link颜色, 例如：

```xml
<gazebo reference="my_link">
    <material>Gazebo/Gray</material>
</gazebo>
```

在此，我们使用了SDF文件的语法，添加了`<gazebo> `标签，如果里面没有`reference `，属性将会默认全局使用，在这里特指对`my_link`添加颜色

可用的选项有

```
Pre-defined materials:

material Gazebo/Grey

material Gazebo/DarkGrey

material Gazebo/White

material Gazebo/FlatBlack

material Gazebo/Black

material Gazebo/Red

material Gazebo/RedBright

material Gazebo/Green

material Gazebo/Blue

material Gazebo/SkyBlue

material Gazebo/Yellow

material Gazebo/ZincYellow

material Gazebo/DarkYellow

material Gazebo/Purple

material Gazebo/Turquoise

material Gazebo/Orange

material Gazebo/Indigo

material Gazebo/WhiteGlow

material Gazebo/RedGlow

material Gazebo/GreenGlow

...
```

等等，具体的可以查看 http://wiki.ros.org/simulator_gazebo/Tutorials/ListOfMaterials



打开我们的机器人基本模型文件`my_robot_base.xacro`文件

```
cd ~/dev_ws
vi src/robot_description/urdf/my_robot_base.xacro
```

在`base_link`的下面，为`base_link`添加上颜色属性

```xml
<gazebo reference="base_link">
	<material>Gazebo/Orange</material>
</gazebo>
```

### 编译运行

```
cd ~/dev_ws
colcon build --packages-select robot_description
ros2 launch robot_description gazebo_empty_world.launch.py
```

会有一个橘黄色的机器人机身显示在gazebo场景中

![](修改机器人外观/2021-04-20 11-06-19屏幕截图.png)



### 添加宏颜色

在宏`wheel`和宏`caster`中也记得改变一下颜色

例如在宏`wheel`中

```xml
<xacro:macro name="wheel" params="prefix reflect">
	<joint name="${prefix}_wheel_joint" type="continuous">
    	...	
    </joint>
    
    <link name="${prefix}_wheel_link">
        ...
    </link>
    
    ...
    
    <gazebo reference="${prefix}_wheel_link">
		<material>Gazebo/DarkGrey</material>
	</gazebo>
```

注意这里修改reference。这样每一个生成的wheel都有此颜色

## 添加dae文件









